## First try
{% highlight python %}
import pandas as pd
import matplotlib.pyplot as plt

A = pd.read_csv('C:\Users\Fred\Desktop\us_census_full\census_income_learn.csv')
B = A.iloc[:,10]
C=B.value_counts()

x = sp.arange(len(C))
y = C.values

labels = C.keys()

plt.bar(x, y, align='center')
plt.xticks(x, labels, rotation='vertical')
plt.show()

D = A.iloc[:,0]

plt.hist(D)
{% endhighlight %}

## Second try
{% highlight python %}
import pandas as pd
import matplotlib.pyplot as plt
import scipy as sp

census_header = ("AAGE", "ACLSWKR", "ADTIND", "ADTOCC", "AHGA", "AHRSPAY", "AHSCOL", "AMARITL", "AMJIND", "AMJOCC", "ARACE", "AREORGN", "ASEX", "AUNMEM", "AUNTYPE", "AWKSTAT", "CAPGAIN", "CAPLOSS", "DIVVAL", "FILESTAT", "GRINREG", "GRINST", "HHDFMX", "HHDREL", "MARSUPWT", "MIGMTR1", "MIGMTR3", "MIGMTR4", "MIGSAME", "MIGSUN", "NOEMP", "PARENT", "PEFNTVTY", "PEMNTVTY", "PENATVTY", "PRCITSHP", "SEOTR", "VETQVA", "VETYN", "WKSWORK", "YOC", "FFTYK")

census = pd.read_csv('/Users/fred/Documents/Perso/Data Science Test/census_income_test.csv', names = census_header, header = None)


continuous_col = ['ADTIND', 'ADTOCC', 'SEOTR', 'VETYN', 'YOC']
for col in continuous_col:
	census[col] = census[col].astype(str)


for col in census_header:
    census_col = census[col]  #creates a new array containing only one column  
    if census_col.dtype != 'int64':
        C=census_col.value_counts()

        x = sp.arange(len(C))   #creates a range array of size len(C)
        y = C.values            #extracts values from the array C

        labels = C.keys()       #extracts keys from the array C

        plt.bar(x, y, align='center')
        plt.xticks(x, labels, rotation='vertical')
        plt.title(col)
        plt.show()
    else:
        plt.hist(census_col)
        plt.title(col)
        plt.show()
{% endhighlight %}

## Third try
Ressources:
* https://github.com/olgabot/prettyplotlib/wiki/Examples-with-code#bar
* http://matplotlib.org/examples/api/barchart_demo.html

{% highlight python %}
import pandas as pd
import matplotlib.pyplot as plt
import prettyplotlib as ppl
import scipy as sp

census_header = ("AAGE", "ACLSWKR", "ADTIND", "ADTOCC", "AHGA", "AHRSPAY", "AHSCOL", "AMARITL", "AMJIND", "AMJOCC", "ARACE", "AREORGN", "ASEX", "AUNMEM", "AUNTYPE", "AWKSTAT", "CAPGAIN", "CAPLOSS", "DIVVAL", "FILESTAT", "GRINREG", "GRINST", "HHDFMX", "HHDREL", "MARSUPWT", "MIGMTR1", "MIGMTR3", "MIGMTR4", "MIGSAME", "MIGSUN", "NOEMP", "PARENT", "PEFNTVTY", "PEMNTVTY", "PENATVTY", "PRCITSHP", "SEOTR", "VETQVA", "VETYN", "WKSWORK", "YOC", "FFTYK")

census = pd.read_csv('/Users/fred/Documents/Perso/Data Science Test/census_income_test.csv', names = census_header, header = None)


continuous_col = ['ADTIND', 'ADTOCC', 'SEOTR', 'VETYN', 'YOC']
for col in continuous_col:
	census[col] = census[col].astype(str)


col = "PRCITSHP"

positive = census[census['FFTYK'] == " 50000+."]
negative = census[census['FFTYK'] == " - 50000."]


census_col1 = positive[col]  #creates a new array containing only one column
census_col2 = negative[col]
census_col3 = census[col]

C1=census_col1.value_counts()
C2=census_col2.value_counts()
C3=census_col3.value_counts()


def autoformat(lst):
    lst = [float(el) for el in lst]
    lst = [el * 100 / sum(lst) for el in lst]
    return lst

x1 = sp.arange(len(C1))     #creates a range array of size len(C)
y1 = autoformat(C1.values)  #extracts values from the array C

x2 = sp.arange(len(C2))
y2 = autoformat(C2.values)

x3 = sp.arange(len(C3))
y3 = autoformat(C3.values)



labels = C1.keys()       #extracts keys from the array C


fig, ax = plt.subplots()

width = 0.35
width2 = 0.05

rect1 = ppl.bar(ax, x1, y1 , width, color = ppl.colors.set2[0])
rect2 = ppl.bar(ax, x2 + width, y2, width, color = ppl.colors.set2[2])
rect3 = ppl.bar(ax, x3 + width - width2/2, y3, width2, color = ppl.colors.set2[1])

ax.set_xticks(x1 + width)
ax.set_xticklabels(C1.keys())
ax.set_xlim([-width,max(x1)+1])
ax.set_yticks(range(0, 110, 10))
ax.set_ylim([0,100])
ax.legend((rect1[0], rect2[0], rect3[0]), ('50000+', '- 50000', 'all') )

def autolabel(rects):
    # attach some text labels
    for rect in rects:
        height = rect.get_height()
        ax.text(rect.get_x()+rect.get_width()/2., 1.05*height, '%.0f%%'%float(height),
                ha='center', va='bottom')

autolabel(rect1)
autolabel(rect2)
autolabel(rect3)


plt.title("Test")


fig.tight_layout()

plt.show()
{% endhighlight %}

